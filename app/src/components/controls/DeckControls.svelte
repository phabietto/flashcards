<script lang="ts">
    import { DeckMode } from "../../models/enums";
    import { createEventDispatcher } from "svelte";
    import Button from "../button/Button.svelte";
    import FlashCard from "../flashcard/FlashCard.svelte";
    import Icon from "../icon/Icon.svelte";
    import Switch from "../switch/Switch.svelte";

    export let deck;
    export let deckMode: DeckMode;

    let continuous = false;
    let pendingChanges = false;
    let currentCardIndex = 0;
    let maxCards = 0;

    $:{
        maxCards = deck.cards.length;
    }

    function switchCard(direction: number) {
        const len = deck.cards.length;
        if(direction > 0) {
            if(currentCardIndex >= len - 1) {
                if(continuous) {
                    currentCardIndex = 0;
                }
            } else {
                currentCardIndex++;
            }
        } else {
            if(currentCardIndex == 0) {
                if(continuous) {
                    currentCardIndex = len-1;
                }
            } else {
                currentCardIndex--;
            }
        }
    }

    const dispatcher = createEventDispatcher();
    function handleHome(){
        dispatcher('deck-controls::home');
    }

</script>
<section class="flex flex-col justify-end h-[400px] text-gray-600 {$$props.class}">
    <FlashCard card={deck.cards[currentCardIndex]}></FlashCard>
    <div class="flex flex-grow justify-evenly items-center">
        <div class="w-2/5 flex">
            <Button on:click={handleHome} title="Back to deck selection.">
                <Icon slot="icon" class="w-5 h-5" type="fill">
                    <path d="M15.3996 21V20V21ZM4.59961 21L4.59961 22H4.59961V21ZM16.9996 19.4H17.9996H16.9996ZM16.8906 20.454L17.7816 20.908L16.8906 20.454ZM16.4544 20.891L16.9084 21.782L16.4544 20.891ZM16.4544 11.109L16.0004 12L16.4544 11.109ZM16.9996 12.6H15.9996H16.9996ZM16.8906 11.546L15.9996 12L16.8906 11.546ZM3.10899 20.454L4 20H4L3.10899 20.454ZM3.5459 20.891L3.99989 20H3.99989L3.5459 20.891ZM17 14C16.4477 14 16 14.4477 16 15C16 15.5523 16.4477 16 17 16V14ZM6 9C6 9.55228 6.44772 10 7 10C7.55228 10 8 9.55228 8 9H6ZM20.9996 6.60001H19.9996H20.9996ZM20.8906 5.54602L21.7816 5.09203L20.8906 5.54602ZM20.4544 5.10899L20.9084 4.21799V4.21799L20.4544 5.10899ZM20.4544 14.891L20.9084 15.782L20.4544 14.891ZM20.9996 13.4H21.9996H20.9996ZM20.8906 14.454L19.9996 14L20.8906 14.454ZM9.21058 11.6139C9.54965 12.0499 10.1779 12.1284 10.6139 11.7893C11.0498 11.4503 11.1284 10.822 10.7893 10.386L9.21058 11.6139ZM8.9248 9.61768L8.13545 10.2316L8.9248 9.61768ZM3.5459 9.10899L3.99989 10L3.5459 9.10899ZM3.10899 9.54602L4 10L3.10899 9.54602ZM8.5498 9.19598L9.14445 8.392L8.5498 9.19598ZM8.22511 9.03701L8.49466 8.07403L8.22511 9.03701ZM13.2106 5.61392C13.5496 6.04987 14.1779 6.1284 14.6139 5.78933C15.0498 5.45026 15.1284 4.82199 14.7893 4.38604L13.2106 5.61392ZM12.9248 3.61768L13.7142 3.00374V3.00374L12.9248 3.61768ZM7.5459 3.10899L7.99989 4L7.5459 3.10899ZM7.10899 3.54602L8 4.00001L7.10899 3.54602ZM12.5498 3.19598L13.1445 2.392L12.5498 3.19598ZM12.2251 3.03701L12.4947 2.07403L12.2251 3.03701ZM4 19.4V11H2V19.4H4ZM3 12H15.4V10H3V12ZM15.3996 20H4.59961V22H15.3996V20ZM15.9996 19.4C15.9996 19.6966 15.9988 19.8588 15.9893 19.9754C15.9807 20.0803 15.9703 20.0575 15.9996 20L17.7816 20.908C17.9199 20.6366 17.964 20.3668 17.9827 20.1383C18.0004 19.9213 17.9996 19.6635 17.9996 19.4H15.9996ZM15.3996 22C15.6632 22 15.9211 22.0008 16.1382 21.9831C16.3667 21.9644 16.6367 21.9204 16.9084 21.782L16.0004 20C16.0581 19.9706 16.0808 19.9811 15.9754 19.9897C15.8586 19.9992 15.6961 20 15.3996 20V22ZM15.9996 20L16.0004 20L16.9084 21.782C17.2863 21.5895 17.5907 21.2828 17.7816 20.908L15.9996 20ZM15.4 12C15.6965 12 15.8589 12.0008 15.9756 12.0103C16.0808 12.0189 16.058 12.0294 16.0004 12L16.9084 10.218C16.6368 10.0796 16.3669 10.0356 16.1384 10.0169C15.9214 9.99922 15.6635 10 15.4 10V12ZM17.9996 12.6C17.9996 12.3365 18.0004 12.0787 17.9827 11.8618C17.964 11.6332 17.9199 11.3635 17.7816 11.092L15.9996 12C15.9703 11.9425 15.9807 11.9197 15.9893 12.0246C15.9988 12.1412 15.9996 12.3035 15.9996 12.6H17.9996ZM16.0004 12L15.9996 12L17.7816 11.092C17.5907 10.7174 17.2864 10.4106 16.9084 10.218L16.0004 12ZM2 19.4C2 19.6635 1.99922 19.9213 2.01695 20.1382C2.03562 20.3668 2.07969 20.6366 2.21799 20.908L4 20C4.02931 20.0575 4.01888 20.0803 4.0103 19.9754C4.00078 19.8588 4 19.6965 4 19.4H2ZM4.59961 20C4.30308 20 4.14092 19.9992 4.02444 19.9897C3.91972 19.9811 3.94247 19.9707 3.99989 20L3.09191 21.782C3.36324 21.9202 3.63282 21.9643 3.86146 21.983C4.07834 22.0008 4.33608 22 4.59961 22L4.59961 20ZM2.21799 20.908C2.40966 21.2842 2.71543 21.5902 3.09191 21.782L3.99989 20L4 20L2.21799 20.908ZM15.9996 12.6V19.4H17.9996V12.6H15.9996ZM17 16H19.4V14H17V16ZM19.4 4H7V6H19.4V4ZM6 5V9H8V5H6ZM21.9996 6.60001C21.9996 6.33649 22.0004 6.0787 21.9827 5.86178C21.964 5.63319 21.9199 5.36345 21.7816 5.09203L19.9996 6.00001C19.9703 5.9425 19.9807 5.91973 19.9893 6.02465C19.9988 6.14123 19.9996 6.30348 19.9996 6.60001H21.9996ZM19.4 6C19.6965 6 19.8589 6.00078 19.9756 6.01031C20.0808 6.01889 20.058 6.02936 20.0004 6L20.9084 4.21799C20.6368 4.07963 20.3669 4.0356 20.1384 4.01694C19.9214 3.99922 19.6635 4 19.4 4V6ZM21.7816 5.09203C21.5907 4.71737 21.2863 4.41058 20.9084 4.21799L20.0004 6L19.9996 6.00001L21.7816 5.09203ZM19.4 16C19.6636 16 19.9214 16.0008 20.1384 15.983C20.3669 15.9644 20.6369 15.9203 20.9084 15.782L20.0004 14C20.058 13.9706 20.0807 13.9811 19.9756 13.9897C19.8589 13.9992 19.6965 14 19.4 14V16ZM19.9996 13.4C19.9996 13.6966 19.9988 13.8588 19.9893 13.9754C19.9807 14.0803 19.9703 14.0575 19.9996 14L21.7816 14.908C21.9199 14.6366 21.964 14.3668 21.9827 14.1383C22.0004 13.9213 21.9996 13.6636 21.9996 13.4H19.9996ZM20.9084 15.782C21.2862 15.5895 21.5907 15.2828 21.7816 14.908L19.9996 14L20.0004 14L20.9084 15.782ZM21.9996 13.4V6.60001H19.9996V13.4H21.9996ZM10.7893 10.386L9.71416 9.00374L8.13545 10.2316L9.21058 11.6139L10.7893 10.386ZM7.66152 8H4.59961V10H7.66152V8ZM2 10.6V11H4V10.6H2ZM4.59961 8C4.3361 8 4.07836 7.99922 3.86149 8.01695C3.63285 8.03564 3.36325 8.07973 3.09191 8.21799L3.99989 10C3.94246 10.0293 3.91969 10.0189 4.02442 10.0103C4.14091 10.0008 4.30307 10 4.59961 10V8ZM4 10.6C4 10.3034 4.00078 10.1412 4.0103 10.0246C4.01887 9.91974 4.0293 9.94251 4 10L2.21799 9.09203C2.07969 9.36344 2.03562 9.63316 2.01695 9.86176C1.99922 10.0787 2 10.3365 2 10.6H4ZM3.09191 8.21799C2.71533 8.40987 2.4096 8.71596 2.21799 9.09203L4 10L3.99989 10L3.09191 8.21799ZM9.71416 9.00374C9.57226 8.8213 9.39105 8.57439 9.14445 8.392L7.95516 9.99997C7.9307 9.98188 7.92656 9.97234 7.95661 10.007C7.99339 10.0495 8.04125 10.1105 8.13545 10.2316L9.71416 9.00374ZM7.66152 10C7.81512 10 7.89279 10.0003 7.94919 10.0033C7.99544 10.0057 7.98524 10.0083 7.95556 10L8.49466 8.07403C8.19912 7.9913 7.89187 8 7.66152 8V10ZM9.14445 8.392C8.94954 8.24784 8.72974 8.13983 8.49466 8.07403L7.95556 10L7.95516 9.99997L9.14445 8.392ZM14.7893 4.38604L13.7142 3.00374L12.1355 4.23162L13.2106 5.61392L14.7893 4.38604ZM11.6615 2H8.59961V4H11.6615V2ZM6 4.59998V5H8V4.59998H6ZM8.59961 2C8.3361 2 8.07836 1.99922 7.86149 2.01695C7.63285 2.03564 7.36325 2.07973 7.09191 2.21799L7.99989 4C7.94246 4.02926 7.91968 4.01886 8.02442 4.0103C8.14091 4.00078 8.30307 4 8.59961 4V2ZM8 4.59998C8 4.30345 8.00078 4.1412 8.0103 4.02463C8.01887 3.91974 8.0293 3.94251 8 4.00001L6.21799 3.09203C6.07969 3.36344 6.03562 3.63316 6.01695 3.86176C5.99922 4.07867 6 4.33645 6 4.59998H8ZM7.09191 2.21799C6.71533 2.40987 6.4096 2.71596 6.21799 3.09203L8 4.00001L7.99989 4L7.09191 2.21799ZM13.7142 3.00374C13.5723 2.8213 13.3911 2.57439 13.1445 2.392L11.9552 3.99997C11.9307 3.98188 11.9266 3.97234 11.9566 4.00704C11.9934 4.04952 12.0412 4.1105 12.1355 4.23162L13.7142 3.00374ZM11.6615 4C11.8151 4 11.8928 4.00031 11.9492 4.00326C11.9954 4.00568 11.9852 4.00831 11.9556 4L12.4947 2.07403C12.1991 1.9913 11.8919 2 11.6615 2V4ZM13.1445 2.392C12.9495 2.24784 12.7297 2.13983 12.4947 2.07403L11.9556 4L11.9552 3.99997L13.1445 2.392Z"/>
                    <!-- <path d="M5.25 16.88V10.9146C5.25 10.3375 5.51642 9.79278 5.97193 9.4385L10.8519 5.64294C11.5272 5.11773 12.4728 5.11773 13.1481 5.64294L18.0281 9.4385C18.4836 9.79278 18.75 10.3375 18.75 10.9146V16.88C18.75 17.9128 17.9128 18.75 16.88 18.75H14.75C14.4739 18.75 14.25 18.5261 14.25 18.25V15.6487C14.25 15.3855 14.207 15.1193 14.0677 14.896C13.8854 14.6039 13.6423 14.3523 13.353 14.1595C12.9525 13.8925 12.4817 13.75 12 13.75C11.5183 13.75 11.0475 13.8925 10.647 14.1595C10.3577 14.3523 10.1146 14.6039 9.93234 14.896C9.79305 15.1193 9.75 15.3855 9.75 15.6487V18.25C9.75 18.5261 9.52614 18.75 9.25 18.75H7.12C6.08723 18.75 5.25 17.9128 5.25 16.88Z"/> -->
                </Icon>
            </Button>
        </div>
        <div class="w-1/5 flex justify-between items-center text-sm font-bold">
            <Button on:click={() => switchCard(-1)} title="Previous card." disabled={!continuous && currentCardIndex == 0}>
                <Icon slot="icon" class="rotate-180">
                    <path d="M17 12H7M13 8l4 4-4 4" stroke-linecap="round" stroke-linejoin="round"/>
                </Icon>
            </Button>
            <span>{currentCardIndex + 1}/{maxCards}</span>
            <Button on:click={() => switchCard(1)} title="Next card." disabled={!continuous && currentCardIndex == maxCards -1}>
                <Icon slot="icon">
                    <path d="M17 12H7M13 8l4 4-4 4" stroke-linecap="round" stroke-linejoin="round"/>
                </Icon>
            </Button>
        </div>
        <div class="w-2/5 flex justify-end items-center space-x-0.5">
            {#if deckMode !== DeckMode.Edit}
            <Switch id="test" bind:checked={continuous} class="w-6 h-6" title="Cycle continuosly through deck">
                <Icon slot="icon" type="stroke">
                    <path d="m14 16 .354-.354.353.354-.353.354L14 16Zm-3.646-4.354 4 4-.708.708-4-4 .708-.708Zm4 4.708-4 4-.708-.708 4-4 .708.708Z" stroke-width="1"/>
                    <path d="M20 13.5V10a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h7" stroke-linecap="round"/>
                </Icon>
            </Switch>
            {:else}
            <Button on:click={() => console.log(`Save changes`)} title="Save changes." class="hover:fill-emerald-500 hover:bg-emerald-300/25" disabled={!pendingChanges}>
                <Icon slot="icon" type="fill">
                    <path d="M7.70711 11.293C7.31658 10.9025 6.68342 10.9025 6.29289 11.293C5.90237 11.6835 5.90237 12.3167 6.29289 12.7072L7.70711 11.293ZM11.9497 16.9499L11.2426 17.657C11.6332 18.0475 12.2663 18.0475 12.6568 17.657L11.9497 16.9499ZM23.2639 7.05038C23.6544 6.65987 23.6544 6.0267 23.2639 5.63617C22.8734 5.24564 22.2402 5.24562 21.8497 5.63614L23.2639 7.05038ZM2.75691 11.3433C2.36639 10.9528 1.73322 10.9528 1.3427 11.3433C0.952174 11.7338 0.952174 12.367 1.3427 12.7575L2.75691 11.3433ZM6.29245 17.7073C6.68297 18.0978 7.31613 18.0978 7.70666 17.7073C8.09718 17.3167 8.09718 16.6836 7.70666 16.2931L6.29245 17.7073ZM18.3131 7.10066C18.7037 6.71014 18.7037 6.07697 18.3131 5.68645C17.9226 5.29592 17.2895 5.29592 16.8989 5.68645L18.3131 7.10066ZM11.5956 10.9897C11.2051 11.3803 11.2051 12.0134 11.5956 12.404C11.9862 12.7945 12.6193 12.7945 13.0098 12.404L11.5956 10.9897ZM6.29289 12.7072L11.2426 17.657L12.6569 16.2428L7.70711 11.293L6.29289 12.7072ZM12.6568 17.657L23.2639 7.05038L21.8497 5.63614L11.2427 16.2427L12.6568 17.657ZM1.3427 12.7575L6.29245 17.7073L7.70666 16.2931L2.75691 11.3433L1.3427 12.7575ZM16.8989 5.68645L11.5956 10.9897L13.0098 12.404L18.3131 7.10066L16.8989 5.68645Z"/>
                </Icon>
            </Button>
            <Button on:click={() => console.log(`Discard changes`)} title="Discard changes." class="hover:fill-red-500 hover:bg-red-300/25" disabled={!pendingChanges}>
                <Icon slot="icon" type="fill">
                    <path d="M15 10C15 9.44772 14.5523 9 14 9C13.4477 9 13 9.44772 13 10H15ZM13 17C13 17.5523 13.4477 18 14 18C14.5523 18 15 17.5523 15 17H13ZM11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10H11ZM9 17C9 17.5523 9.44772 18 10 18C10.5523 18 11 17.5523 11 17H9ZM18 6H19C19 5.44772 18.5523 5 18 5V6ZM6 6V5C5.44772 5 5 5.44772 5 6H6ZM7.0918 20.782L7.54579 19.891L7.0918 20.782ZM6.21799 19.908L5.32698 20.362H5.32698L6.21799 19.908ZM17.7822 19.908L16.8912 19.454L17.7822 19.908ZM16.9078 20.782L16.4538 19.891L16.9078 20.782ZM4 5C3.44772 5 3 5.44772 3 6C3 6.55228 3.44772 7 4 7V5ZM20 7C20.5523 7 21 6.55228 21 6C21 5.44772 20.5523 5 20 5V7ZM16 6V7C16.5523 7 17 6.55228 17 6H16ZM8 6H7C7 6.55228 7.44772 7 8 7V6ZM15.8477 4.23462L16.7715 3.85194L15.8477 4.23462ZM14.7654 3.15224L15.1481 2.22836V2.22836L14.7654 3.15224ZM13 10V17H15V10H13ZM9 10L9 17H11L11 10H9ZM17 6V17.8H19V6H17ZM14.8002 20H9.2002V22H14.8002V20ZM7 17.8V6H5V17.8H7ZM6 7H18V5H6V7ZM9.2002 20C8.62367 20 8.25127 19.9992 7.96782 19.9761C7.69598 19.9538 7.59519 19.9161 7.54579 19.891L6.63781 21.673C7.01623 21.8658 7.40959 21.9371 7.80496 21.9694C8.18873 22.0008 8.65662 22 9.2002 22V20ZM5 17.8C5 18.3436 4.99922 18.8114 5.03057 19.195C5.06287 19.5904 5.13418 19.9836 5.32698 20.362L7.10899 19.454C7.0838 19.4046 7.04612 19.3039 7.02393 19.0322C7.00078 18.7488 7 18.3766 7 17.8H5ZM7.54579 19.891C7.35778 19.7952 7.20494 19.6424 7.10899 19.454L5.32698 20.362C5.61452 20.9264 6.07317 21.3853 6.63781 21.673L7.54579 19.891ZM17 17.8C17 18.3767 16.9993 18.7489 16.9762 19.0324C16.954 19.3041 16.9164 19.4047 16.8912 19.454L18.6732 20.362C18.8661 19.9835 18.9373 19.5902 18.9696 19.1949C19.0008 18.8113 19 18.3435 19 17.8H17ZM14.8002 22C15.3438 22 15.8115 22.0008 16.1951 21.9694C16.5904 21.9371 16.9835 21.8657 17.3618 21.673L16.4538 19.891C16.4043 19.9162 16.3036 19.9539 16.0321 19.9761C15.7489 19.9992 15.3767 20 14.8002 20V22ZM16.8912 19.454C16.7956 19.6417 16.6425 19.7948 16.4538 19.891L17.3618 21.673C17.9257 21.3856 18.3854 20.927 18.6732 20.362L16.8912 19.454ZM4 7H20V5H4V7ZM16 5H8V7H16V5ZM11 4H13V2H11V4ZM9 6C9 5.52038 9.00054 5.21074 9.01671 4.97375C9.03227 4.74575 9.05888 4.65891 9.07612 4.6173L7.22836 3.85194C7.09336 4.17787 7.04385 4.50778 7.02135 4.83761C6.99946 5.15846 7 5.54774 7 6H9ZM11 2C10.5477 2 10.1584 1.99946 9.8375 2.02135C9.50766 2.04385 9.17766 2.09334 8.85169 2.22836L9.61706 4.07612C9.65864 4.0589 9.7455 4.03227 9.97362 4.01671C10.2107 4.00054 10.5204 4 11 4V2ZM9.07612 4.6173C9.17771 4.37205 9.37225 4.17752 9.61706 4.07612L8.85169 2.22836C8.11639 2.53293 7.53275 3.11707 7.22836 3.85194L9.07612 4.6173ZM17 6C17 5.54768 17.0005 5.15841 16.9786 4.83752C16.9561 4.50766 16.9065 4.1778 16.7715 3.85194L14.9238 4.6173C14.941 4.65898 14.9677 4.74587 14.9832 4.97384C14.9994 5.21079 15 5.52044 15 6H17ZM13 4C13.4796 4 13.7893 4.00054 14.0262 4.01671C14.2542 4.03227 14.3411 4.05888 14.3827 4.07612L15.1481 2.22836C14.8221 2.09336 14.4922 2.04385 14.1624 2.02135C13.8415 1.99946 13.4523 2 13 2V4ZM16.7715 3.85194C16.4671 3.11693 15.8832 2.53288 15.1481 2.22836L14.3827 4.07612C14.6276 4.17758 14.8222 4.37219 14.9238 4.6173L16.7715 3.85194Z"/>
                </Icon>
            </Button>
            <Button on:click={() => console.log(`Remove card`)} title="Remove this card.">
                <Icon slot="icon" type="fill">
                    <path d="M9 14C8.44772 14 8 14.4477 8 15C8 15.5523 8.44772 16 9 16V14ZM15 16C15.5523 16 16 15.5523 16 15C16 14.4477 15.5523 14 15 14V16ZM18.063 7.06274L17.3559 7.76985L18.063 7.06274ZM14.9375 3.93726L15.6446 3.23015V3.23015L14.9375 3.93726ZM8.2002 21V20V21ZM15.8002 21V22V21ZM5.21799 19.908L6.10899 19.454L5.21799 19.908ZM6.0918 20.782L6.54579 19.891L6.0918 20.782ZM6.0918 3.21799L6.54579 4.10899L6.54579 4.10899L6.0918 3.21799ZM5.21799 4.09204L4.32698 3.63805L4.32698 3.63805L5.21799 4.09204ZM14.2168 3.29474L13.6943 4.14738L14.2168 3.29474ZM13.6388 3.05526L13.8722 2.08289L13.6388 3.05526ZM18.9443 8.36151L19.9167 8.12807L18.9443 8.36151ZM18.705 7.78343L17.8524 8.30593L18.705 7.78343ZM18.7822 19.908L19.6732 20.362L18.7822 19.908ZM17.9078 20.782L17.4538 19.891L17.9078 20.782ZM19.0002 10C19.5525 10 20.0002 9.55228 20.0002 9C20.0002 8.44772 19.5525 8 19.0002 8V10ZM16.2002 9V8V9ZM14 3C14 2.44772 13.5523 2 13 2C12.4477 2 12 2.44772 12 3H14ZM14.0918 8.78198L14.5458 7.89098H14.5458L14.0918 8.78198ZM13.218 7.90797L14.109 7.45398V7.45398L13.218 7.90797ZM9 16H15V14H9V16ZM20 17.8V9.3255H18V17.8H20ZM18.7701 6.35563L15.6446 3.23015L14.2304 4.64436L17.3559 7.76985L18.7701 6.35563ZM12.6747 2H8.2002V4H12.6747V2ZM4 6.20001V17.8H6V6.20001H4ZM8.2002 22H15.8002V20H8.2002V22ZM4 17.8C4 18.3436 3.99922 18.8114 4.03057 19.195C4.06287 19.5904 4.13419 19.9836 4.32698 20.362L6.10899 19.454C6.0838 19.4045 6.04612 19.3038 6.02393 19.0322C6.00078 18.7488 6 18.3766 6 17.8H4ZM8.2002 20C7.62367 20 7.25127 19.9992 6.96782 19.9761C6.69598 19.9538 6.59519 19.9161 6.54579 19.891L5.63781 21.673C6.01623 21.8658 6.40959 21.9371 6.80496 21.9694C7.18873 22.0008 7.65662 22 8.2002 22V20ZM4.32698 20.362C4.61449 20.9262 5.07311 21.3853 5.63781 21.673L6.54579 19.891C6.35784 19.7952 6.20498 19.6424 6.10899 19.454L4.32698 20.362ZM8.2002 2C7.65663 2 7.18874 1.99922 6.80498 2.03057C6.40962 2.06286 6.01624 2.13416 5.63781 2.32698L6.54579 4.10899C6.59517 4.08383 6.69595 4.04613 6.9678 4.02393C7.25126 4.00078 7.62365 4 8.2002 4V2ZM6 6.20001C6 5.62346 6.00078 5.25119 6.02393 4.96785C6.04612 4.69619 6.0838 4.59548 6.10899 4.54603L4.32698 3.63805C4.13419 4.01643 4.06287 4.40964 4.03057 4.80499C3.99922 5.18866 4 5.65646 4 6.20001H6ZM5.63781 2.32698C5.07306 2.61473 4.61447 3.07382 4.32698 3.63805L6.10899 4.54603C6.205 4.35761 6.35788 4.20474 6.54579 4.10899L5.63781 2.32698ZM15.6446 3.23015C15.3323 2.91784 15.0655 2.642 14.7393 2.4421L13.6943 4.14738C13.7718 4.19485 13.8509 4.26487 14.2304 4.64436L15.6446 3.23015ZM12.6747 4C13.2115 4 13.317 4.00643 13.4053 4.02763L13.8722 2.08289C13.5002 1.99357 13.1163 2 12.6747 2V4ZM14.7393 2.4421C14.471 2.27768 14.1784 2.15641 13.8722 2.08289L13.4053 4.02763C13.5072 4.0521 13.6047 4.09248 13.6943 4.14738L14.7393 2.4421ZM20 9.3255C20 8.88249 20.0059 8.49976 19.9167 8.12807L17.972 8.59496C17.9933 8.68361 18 8.79015 18 9.3255H20ZM17.3559 7.76985C17.7345 8.1485 17.8048 8.22822 17.8524 8.30593L19.5577 7.26093C19.3579 6.93498 19.0832 6.66879 18.7701 6.35563L17.3559 7.76985ZM19.9167 8.12807C19.8433 7.8224 19.7224 7.52973 19.5577 7.26093L17.8524 8.30593C17.907 8.39502 17.9474 8.49248 17.972 8.59496L19.9167 8.12807ZM18 17.8C18 18.3767 17.9993 18.7489 17.9762 19.0323C17.954 19.304 17.9164 19.4046 17.8912 19.454L19.6732 20.362C19.8661 19.9835 19.9373 19.5902 19.9696 19.1949C20.0008 18.8113 20 18.3435 20 17.8H18ZM15.8002 22C16.3438 22 16.8115 22.0008 17.1951 21.9694C17.5904 21.9371 17.9835 21.8657 18.3618 21.673L17.4538 19.891C17.4043 19.9162 17.3036 19.9539 17.0321 19.9761C16.7489 19.9992 16.3767 20 15.8002 20V22ZM17.8912 19.454C17.7956 19.6417 17.6424 19.7949 17.4538 19.891L18.3618 21.673C18.9258 21.3856 19.3854 20.9269 19.6732 20.362L17.8912 19.454ZM19.0002 8H16.2002V10H19.0002V8ZM14 5.8V3H12V5.8H14ZM16.2002 8C15.6237 8 15.2513 7.99922 14.9678 7.97606C14.696 7.95385 14.5952 7.91615 14.5458 7.89098L13.6378 9.67299C14.0162 9.8658 14.4096 9.93711 14.805 9.96942C15.1887 10.0008 15.6566 10 16.2002 10V8ZM12 5.8C12 6.34355 11.9992 6.81135 12.0306 7.19502C12.0629 7.59037 12.1342 7.98358 12.327 8.36196L14.109 7.45398C14.0838 7.40453 14.0461 7.30381 14.0239 7.03216C14.0008 6.74882 14 6.37655 14 5.8H12ZM14.5458 7.89098C14.3578 7.79521 14.205 7.64236 14.109 7.45398L12.327 8.36196C12.6145 8.92623 13.0731 9.38526 13.6378 9.67299L14.5458 7.89098Z"/>
                </Icon>
            </Button>
            <Button on:click={() => console.log(`Add card`)} title="Add a new card.">
                <Icon slot="icon" type="fill">
                    <path d="M11 18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18H11ZM13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12H13ZM9 14C8.44772 14 8 14.4477 8 15C8 15.5523 8.44772 16 9 16V14ZM15 16C15.5523 16 16 15.5523 16 15C16 14.4477 15.5523 14 15 14V16ZM18.063 7.06274L17.3559 7.76985L18.063 7.06274ZM14.9375 3.93726L15.6446 3.23015V3.23015L14.9375 3.93726ZM8.2002 21V20V21ZM15.8002 21V22V21ZM5.21799 19.908L6.10899 19.454L5.21799 19.908ZM6.0918 20.782L6.54579 19.891L6.0918 20.782ZM6.0918 3.21799L6.54579 4.10899L6.54579 4.10899L6.0918 3.21799ZM5.21799 4.09204L4.32698 3.63805L4.32698 3.63805L5.21799 4.09204ZM14.2168 3.29474L13.6943 4.14738L14.2168 3.29474ZM13.6388 3.05526L13.8722 2.08289L13.6388 3.05526ZM18.9443 8.36151L19.9167 8.12807L18.9443 8.36151ZM18.705 7.78343L17.8524 8.30593L18.705 7.78343ZM18.7822 19.908L19.6732 20.362L18.7822 19.908ZM17.9078 20.782L17.4538 19.891L17.9078 20.782ZM19.0002 10C19.5525 10 20.0002 9.55228 20.0002 9C20.0002 8.44772 19.5525 8 19.0002 8V10ZM16.2002 9V8V9ZM14 3C14 2.44772 13.5523 2 13 2C12.4477 2 12 2.44772 12 3H14ZM14.0918 8.78198L14.5458 7.89098H14.5458L14.0918 8.78198ZM13.218 7.90797L14.109 7.45398V7.45398L13.218 7.90797ZM13 18V12H11V18H13ZM9 16H15V14H9V16ZM20 17.8V9.3255H18V17.8H20ZM18.7701 6.35563L15.6446 3.23015L14.2304 4.64436L17.3559 7.76985L18.7701 6.35563ZM12.6747 2H8.2002V4H12.6747V2ZM4 6.20001V17.8H6V6.20001H4ZM8.2002 22H15.8002V20H8.2002V22ZM4 17.8C4 18.3436 3.99922 18.8114 4.03057 19.195C4.06287 19.5904 4.13419 19.9836 4.32698 20.362L6.10899 19.454C6.0838 19.4045 6.04612 19.3038 6.02393 19.0322C6.00078 18.7488 6 18.3766 6 17.8H4ZM8.2002 20C7.62367 20 7.25127 19.9992 6.96782 19.9761C6.69598 19.9538 6.59519 19.9161 6.54579 19.891L5.63781 21.673C6.01623 21.8658 6.40959 21.9371 6.80496 21.9694C7.18873 22.0008 7.65662 22 8.2002 22V20ZM4.32698 20.362C4.61449 20.9262 5.07311 21.3853 5.63781 21.673L6.54579 19.891C6.35784 19.7952 6.20498 19.6424 6.10899 19.454L4.32698 20.362ZM8.2002 2C7.65663 2 7.18874 1.99922 6.80498 2.03057C6.40962 2.06286 6.01624 2.13416 5.63781 2.32698L6.54579 4.10899C6.59517 4.08383 6.69595 4.04613 6.9678 4.02393C7.25126 4.00078 7.62365 4 8.2002 4V2ZM6 6.20001C6 5.62346 6.00078 5.25119 6.02393 4.96785C6.04612 4.69619 6.0838 4.59548 6.10899 4.54603L4.32698 3.63805C4.13419 4.01643 4.06287 4.40964 4.03057 4.80499C3.99922 5.18866 4 5.65646 4 6.20001H6ZM5.63781 2.32698C5.07306 2.61473 4.61447 3.07382 4.32698 3.63805L6.10899 4.54603C6.205 4.35761 6.35788 4.20474 6.54579 4.10899L5.63781 2.32698ZM15.6446 3.23015C15.3323 2.91784 15.0655 2.642 14.7393 2.4421L13.6943 4.14738C13.7718 4.19485 13.8509 4.26487 14.2304 4.64436L15.6446 3.23015ZM12.6747 4C13.2115 4 13.317 4.00643 13.4053 4.02763L13.8722 2.08289C13.5002 1.99357 13.1163 2 12.6747 2V4ZM14.7393 2.4421C14.471 2.27768 14.1784 2.15641 13.8722 2.08289L13.4053 4.02763C13.5072 4.0521 13.6047 4.09248 13.6943 4.14738L14.7393 2.4421ZM20 9.3255C20 8.88249 20.0059 8.49976 19.9167 8.12807L17.972 8.59496C17.9933 8.68361 18 8.79015 18 9.3255H20ZM17.3559 7.76985C17.7345 8.1485 17.8048 8.22822 17.8524 8.30593L19.5577 7.26093C19.3579 6.93498 19.0832 6.66879 18.7701 6.35563L17.3559 7.76985ZM19.9167 8.12807C19.8433 7.8224 19.7224 7.52973 19.5577 7.26093L17.8524 8.30593C17.907 8.39502 17.9474 8.49248 17.972 8.59496L19.9167 8.12807ZM18 17.8C18 18.3767 17.9993 18.7489 17.9762 19.0323C17.954 19.304 17.9164 19.4046 17.8912 19.454L19.6732 20.362C19.8661 19.9835 19.9373 19.5902 19.9696 19.1949C20.0008 18.8113 20 18.3435 20 17.8H18ZM15.8002 22C16.3438 22 16.8115 22.0008 17.1951 21.9694C17.5904 21.9371 17.9835 21.8657 18.3618 21.673L17.4538 19.891C17.4043 19.9162 17.3036 19.9539 17.0321 19.9761C16.7489 19.9992 16.3767 20 15.8002 20V22ZM17.8912 19.454C17.7956 19.6417 17.6424 19.7949 17.4538 19.891L18.3618 21.673C18.9258 21.3856 19.3854 20.9269 19.6732 20.362L17.8912 19.454ZM19.0002 8H16.2002V10H19.0002V8ZM14 5.8V3H12V5.8H14ZM16.2002 8C15.6237 8 15.2513 7.99922 14.9678 7.97606C14.696 7.95385 14.5952 7.91615 14.5458 7.89098L13.6378 9.67299C14.0162 9.8658 14.4096 9.93711 14.805 9.96942C15.1887 10.0008 15.6566 10 16.2002 10V8ZM12 5.8C12 6.34355 11.9992 6.81135 12.0306 7.19502C12.0629 7.59037 12.1342 7.98358 12.327 8.36196L14.109 7.45398C14.0838 7.40453 14.0461 7.30381 14.0239 7.03216C14.0008 6.74882 14 6.37655 14 5.8H12ZM14.5458 7.89098C14.3578 7.79521 14.205 7.64236 14.109 7.45398L12.327 8.36196C12.6145 8.92623 13.0731 9.38526 13.6378 9.67299L14.5458 7.89098Z" />
                </Icon>
            </Button>
            {/if}
        </div>
    </div>
</section>
